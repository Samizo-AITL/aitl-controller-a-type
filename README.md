# Samizo-Lab AITL Controller (A-type)

A lightweight educational implementation of the **AITL three-layer control architecture**:

```
Inner Loop : PID Controller  
Middle Loop: FSM (Finite State Machine)  
Outer Loop: LLM (Adaptive Gain Adjustment, A-type)
```

This project demonstrates a **clear and modular control-design methodology**,  
rather than achieving perfectly optimized response characteristics.

---

## ğŸ”— Links

| Language | GitHub Pages ğŸŒ | GitHub ğŸ’» |
|----------|----------------|-----------|
| ğŸ‡ºğŸ‡¸ English | [![GitHub Pages EN](https://img.shields.io/badge/GitHub%20Pages-English-brightgreen?logo=github)](https://samizo-aitl.github.io/aitl-controller-a-type/) | [![GitHub Repo EN](https://img.shields.io/badge/GitHub-English-blue?logo=github)](https://github.com/Samizo-AITL/aitl-controller-a-type/tree/main) |

---

# ğŸ“Š Demo Result â€” AITL Full Demo (Ideal)

This figure is generated by:

```
demos/05_aitl_full_demo.py
```

### â–¶ **Full AITL Ideal Output**

<img
  src="https://samizo-aitl.github.io/aitl-controller-a-type/data/aitl_full_demo_ideal.png"
  alt="AITL Full Demo Ideal"
  style="display:block; margin:1.5rem auto; width:80%; max-width:100%;"
/>

---

# ğŸ“„ Technical Document (PDF)

ğŸ‘‰ **[paper.pdf](paper.pdf)**

---

# ğŸ§± 1. Project Structure

```
AITL-CONTROLLER-A-TYPE/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ pid.py
â”‚   â”‚   â”œâ”€â”€ fsm.py
â”‚   â”‚   â”œâ”€â”€ hybrid.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ llm.py
â”‚   â”‚
â”‚   â””â”€â”€ core/
â”‚       â””â”€â”€ base.py
â”‚
â”œâ”€â”€ demos/
â”‚   â”œâ”€â”€ 01_pid_step_response.py
â”‚   â”œâ”€â”€ 02_fsm_mode_switch.py
â”‚   â”œâ”€â”€ 03_hybrid_pid_fsm_demo.py
â”‚   â”œâ”€â”€ 04_hybrid_fsm_llm_demo.py
â”‚   â””â”€â”€ 05_aitl_full_demo.py
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ aitl_full_demo_ideal.png
â”‚   â”œâ”€â”€ aitl_full_demo_ideal.pdf
â”‚   â””â”€â”€ other demo outputsâ€¦
â”‚
â”œâ”€â”€ tests/
â”‚
â”œâ”€â”€ paper.pdf
â””â”€â”€ README.md
```

---

# âš™ï¸ 2. AITL Architecture Overview

## **2.1 PID Layer**
- variable sampling period `dt`
- integral & derivative reset
- normal / high-response gain profiles

## **2.2 FSM Layer**
Switching logic:

```
normal â†’ high   (if |error| > threshold_high)  
high   â†’ normal (if |error| < threshold_low)
```

Provides explainable control-mode transitions.

## **2.3 LLM Layer (A-type)**
- adjusts **kp only** when in high state  
- deterministic and interpretable  
- educational, not predictive  

---

# ğŸ® 3. Included Demos

| Script | Description |
|--------|-------------|
| `01_pid_step_response.py` | Basic PID response |
| `02_fsm_mode_switch.py` | FSM switching |
| `03_hybrid_pid_fsm_demo.py` | PID Ã— FSM hybrid |
| `04_hybrid_fsm_llm_demo.py` | Hybrid + LLM |
| `05_aitl_full_demo.py` | Full AITL joint system |

---

# ğŸƒ 4. Running the Main Demo

```
cd demos
python 05_aitl_full_demo.py
```

Output:

```
../data/aitl_full_demo_ideal.png
```

---

# ğŸ“ 5. Educational Value

- emphasizes architecture over tuning  
- interpretable adaptive behavior  
- visual understanding of switching control  
- suitable for teaching materials and research prototypes  

---

# ğŸš§ 6. Future Plans

- B-type AITL (self-optimization LLM)
- advanced FSM with multi-modes/hysteresis
- nonlinear plants
- RL-based adaptive tuning
- integration with AITL-H system

---

# ğŸ” Addition.  Ongoing Investigation â€” AITL under Plant Aging (1000 days)

As an **ongoing investigation**, we are currently evaluating the effectiveness of **AITL control under long-term plant degradation**, focusing on **friction aging equivalent to 1000 days of operation**.

In this study:

- The controller is **initially tuned under nominal (Initial) conditions**
- The plant then undergoes **significant friction increase due to aging**
- A fixed-gain PID controller is compared against **AITL with adaptive gain retuning**
- The primary evaluation metric is **temporal behavior (timing consistency, Î”t)** rather than amplitude optimization

---

## â–¶ Timing Degradation under Friction Aging

<img
  src="https://samizo-aitl.github.io/aitl-controller-a-type/data/aging_response.png"
  alt="aging response"
  style="display:block; margin:1.5rem auto; width:80%; max-width:100%;"
/>


**Initial (Blue)**  
Baseline response under nominal conditions, used as the timing reference.

**PID_only 1000d (Orange)**  
Fixed-gain PID after friction aging.  
Peak timing gradually shifts over cycles, indicating **accumulated timing degradation (Î”t)**.

**AITL 1000d (Green)**  
AITL applied to the same aged plant.  
Peak timing remains close to the Initial response across multiple cycles.

---

## Interpretation

Although amplitude and steady-state accuracy are not strictly preserved, the figure clearly indicates that:

> **AITL tends to preserve the temporal structure of the response,  
> even when the control plant has significantly degraded due to aging.**

This behavior directly reflects the design philosophy of AITL:

- Not to replace PID under nominal conditions
- Not to pursue aggressively optimized transient responses
- But to **maintain reliable timing behavior under plant uncertainty and degradation**

Even without detailed control-theoretic analysis,  
it is intuitive for most engineers that **preserving response timing under aging is valuable**.

---

## Toward Reliability Control

These observations suggest that AITL can be positioned as a form of:

> **Reliability-Oriented Control**

where the primary objective is **maintaining temporal consistency** rather than maximizing nominal performance.

Quantitative evaluation of Î”t statistics and longer-duration experiments are ongoing.  
However, the current results already provide a **clear qualitative indication** that AITL is effective in mitigating the impact of plant aging.

This work aims to explore control-system design beyond classical robustness,  
toward **Reliability Control** for long-term autonomous and industrial systems.

---

# ğŸ“œ 7. License

MIT License

---

# ğŸ‘¤ 8.ã€€Author

| ğŸ“Œ Item | Details |
|--------|---------|
| **Name** | Shinichi Samizo |
| **Education** | M.S. in Electrical and Electronic Engineering, Shinshu University |
| **Career** | Former Engineer at Seiko Epson Corporation (since 1997) |
| **Expertise** | Semiconductor devices (logic, memory, high-voltage mixed-signal)<br>Thin-film piezo actuators for inkjet systems<br>PrecisionCore printhead productization, BOM management, ISO training |
| **Email** | [![Email](https://img.shields.io/badge/Email-shin3t72%40gmail.com-red?style=for-the-badge&logo=gmail)](mailto:shin3t72@gmail.com) |
| **X (Twitter)** | [![X](https://img.shields.io/badge/X-@shin3t72-black?style=for-the-badge&logo=x)](https://x.com/shin3t72) |
| **GitHub** | [![GitHub](https://img.shields.io/badge/GitHub-Samizo--AITL-blue?style=for-the-badge&logo=github)](https://github.com/Samizo-AITL) |

---

# ğŸ’¬ 9.ã€€Feedback

> Suggestions, improvements, and discussions are welcome via GitHub Discussions.

[![ğŸ’¬ GitHub Discussions](https://img.shields.io/badge/ğŸ’¬%20GitHub-Discussions-brightgreen?logo=github)](https://github.com/Samizo-AITL/aitl-controller-a-type/discussions)


